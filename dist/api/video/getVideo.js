var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getVideo=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _axios=_interopRequireDefault(require("axios"));var _calculateTimeAgo=_interopRequireDefault(require("../../utils/calculateTimeAgo"));var getVideo=exports.getVideo=function(){var _ref2=(0,_asyncToGenerator2.default)(function*(_ref){var ids=_ref.ids,VIDEO_API_URL=_ref.VIDEO_API_URL,GET_VIDEO_ENDPOINT=_ref.GET_VIDEO_ENDPOINT;try{var queryParam=ids.join(",");var response=yield _axios.default.get(`${VIDEO_API_URL}${GET_VIDEO_ENDPOINT}`,{params:{ids:queryParam}});console.log("Response from getVideos API:",response.data);if(response.data.status==="Success"){var videos=response.data.data.map(function(video){return Object.assign({},video,{timeAgo:(0,_calculateTimeAgo.default)(video.time)});});console.log("Time Ago:",videos);return videos;}else{throw new Error("Failed to fetch videos.");}}catch(error){var _error$response;console.error("GET VIDEO Error:",(error==null?void 0:(_error$response=error.response)==null?void 0:_error$response.data)||(error==null?void 0:error.message)||error);throw error;}});return function getVideo(_x){return _ref2.apply(this,arguments);};}();
var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getWire=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _axios=_interopRequireDefault(require("axios"));var _calculateTimeAgo=_interopRequireDefault(require("../../utils/calculateTimeAgo"));var getWire=exports.getWire=function(){var _ref2=(0,_asyncToGenerator2.default)(function*(_ref){var id=_ref.id,WIRE_API_URL=_ref.WIRE_API_URL,GETWIRE_ENDPOINT_URL=_ref.GETWIRE_ENDPOINT_URL;try{var url=`${WIRE_API_URL}/${GETWIRE_ENDPOINT_URL}${id}`;console.log("Get Wire API URL:",url);var response=yield _axios.default.get(url);console.log("Get Wire API response:",response.data);if(response.data.status!=="success"){throw new Error("Failed to fetch wire.");}var raw=response.data.data;var wires=Array.isArray(raw)?raw:[raw];var enrichedWires=wires.map(function(wire){return Object.assign({},wire,{timeAgo:(0,_calculateTimeAgo.default)(wire.time)});});console.log("GetWire | Enriched wires:",enrichedWires);return enrichedWires;}catch(error){console.error("Error fetching wire:",error);throw error;}});return function getWire(_x){return _ref2.apply(this,arguments);};}();
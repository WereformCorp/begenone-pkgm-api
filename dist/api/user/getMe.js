var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getMe=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _axios=_interopRequireDefault(require("axios"));var _reactQuery=require("@tanstack/react-query");var _reactRedux=require("react-redux");var _userSlice=require("../../store/userSlice");var getMe=exports.getMe=function(){var _ref=(0,_asyncToGenerator2.default)(function*(USER_API_URL,token){if(!token){console.log("No stored session token");return null;}try{var response=yield _axios.default.get(`${USER_API_URL}/api/v1/users/me/`,{headers:{Authorization:`Bearer ${token}`}});return response.data;}catch(error){var _error$response,_error$response2;console.log("GET ME Error:",error==null?void 0:(_error$response=error.response)==null?void 0:_error$response.status,error==null?void 0:(_error$response2=error.response)==null?void 0:_error$response2.data);throw error;}});return function getMe(_x,_x2){return _ref.apply(this,arguments);};}();